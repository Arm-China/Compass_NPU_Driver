# Samples for UMD

The samples can quickly verify the functionality of the whole UMD and KMD logic. They can be split into two parts, one is for simulation environmetn, another is for HW environment.

## 1. For simulator verification
- simulation_test: this case is for Z1/Z2/Z3/X1 AIPU arch.

```bash
# ./aipu_simulation_test -[x|z|q|k] aipu_simulator_[x1|z1|z2|z3] -b aipu.bin -i input0.bin -c output.bin -d ./

eg:
-x aipu_simulator_x1
-z aipu_simulator_z1
-q aipu_simulator_z2
-k aipu_simulator_z3

```
note:
- aipu.bin,input.bin and output.bin are some necessary files generated by specific buildtool(NN-Compiler).
- These cases only use UMD source code, don't need KMD part.
- Add the library of UMD to LD_LIBRARY_PATH.

## 2. For HW verifcation
- benchmark_test: a general case run on HW board.
```bash
# ./aipu_benchmark_test -b aipu.bin -i input0.bin -c output.bin -d ./
```

- mthread_test: create two thread to run different inference jobs.
```bash
# ./aipu_mthread_test -b aipu.bin -i input0.bin -c output.bin -d ./
```
- flush_job_test: create multiple inference jobs firstly, then get their result one by one.
```bash
# ./aipu_flush_job_test -b aipu.bin -i input0.bin -c output.bin -d ./
```

- profiler_test: can dump profiling data if enable profile feature.
```bash
# ./aipu_profiler_test -b aipu.bin -i input0.bin -c output.bin -d ./
```

note:
- These cases will cover both UMD and KMD part.
- Add the library of UMD to LD_LIBRARY_PATH.
